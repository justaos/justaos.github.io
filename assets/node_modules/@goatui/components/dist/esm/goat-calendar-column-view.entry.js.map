{"file":"goat-calendar-column-view.entry.js","mappings":"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","names":[],"sources":["./node_modules/date-fns/esm/addHours/index.js","./node_modules/date-fns/esm/startOfWeek/index.js","./node_modules/date-fns/esm/differenceInCalendarDays/index.js","./node_modules/date-fns/esm/differenceInDays/index.js","./node_modules/date-fns/esm/endOfDay/index.js","./node_modules/date-fns/esm/endOfWeek/index.js","./src/components/calendar/calendar/utils.tsx","./src/components/calendar/calendar/column-view/ColumnEventManager.ts","./src/components/calendar/calendar/column-view/column-view.scss?tag=goat-calendar-column-view&encapsulation=shadow","./src/components/calendar/calendar/column-view/column-view.tsx"],"sourcesContent":["import toInteger from \"../_lib/toInteger/index.js\";\nimport addMilliseconds from \"../addMilliseconds/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nvar MILLISECONDS_IN_HOUR = 3600000;\n/**\n * @name addHours\n * @category Hour Helpers\n * @summary Add the specified number of hours to the given date.\n *\n * @description\n * Add the specified number of hours to the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of hours to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the hours added\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Add 2 hours to 10 July 2014 23:00:00:\n * const result = addHours(new Date(2014, 6, 10, 23, 0), 2)\n * //=> Fri Jul 11 2014 01:00:00\n */\n\nexport default function addHours(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var amount = toInteger(dirtyAmount);\n  return addMilliseconds(dirtyDate, amount * MILLISECONDS_IN_HOUR);\n}","import toDate from \"../toDate/index.js\";\nimport toInteger from \"../_lib/toInteger/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nimport { getDefaultOptions } from \"../_lib/defaultOptions/index.js\";\n/**\n * @name startOfWeek\n * @category Week Helpers\n * @summary Return the start of a week for the given date.\n *\n * @description\n * Return the start of a week for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|Number} date - the original date\n * @param {Object} [options] - an object with options.\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @param {0|1|2|3|4|5|6} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\n * @returns {Date} the start of a week\n * @throws {TypeError} 1 argument required\n * @throws {RangeError} `options.weekStartsOn` must be between 0 and 6\n *\n * @example\n * // The start of a week for 2 September 2014 11:55:00:\n * const result = startOfWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Sun Aug 31 2014 00:00:00\n *\n * @example\n * // If the week starts on Monday, the start of the week for 2 September 2014 11:55:00:\n * const result = startOfWeek(new Date(2014, 8, 2, 11, 55, 0), { weekStartsOn: 1 })\n * //=> Mon Sep 01 2014 00:00:00\n */\n\nexport default function startOfWeek(dirtyDate, options) {\n  var _ref, _ref2, _ref3, _options$weekStartsOn, _options$locale, _options$locale$optio, _defaultOptions$local, _defaultOptions$local2;\n\n  requiredArgs(1, arguments);\n  var defaultOptions = getDefaultOptions();\n  var weekStartsOn = toInteger((_ref = (_ref2 = (_ref3 = (_options$weekStartsOn = options === null || options === void 0 ? void 0 : options.weekStartsOn) !== null && _options$weekStartsOn !== void 0 ? _options$weekStartsOn : options === null || options === void 0 ? void 0 : (_options$locale = options.locale) === null || _options$locale === void 0 ? void 0 : (_options$locale$optio = _options$locale.options) === null || _options$locale$optio === void 0 ? void 0 : _options$locale$optio.weekStartsOn) !== null && _ref3 !== void 0 ? _ref3 : defaultOptions.weekStartsOn) !== null && _ref2 !== void 0 ? _ref2 : (_defaultOptions$local = defaultOptions.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.weekStartsOn) !== null && _ref !== void 0 ? _ref : 0); // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\n\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\n  }\n\n  var date = toDate(dirtyDate);\n  var day = date.getDay();\n  var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n  date.setDate(date.getDate() - diff);\n  date.setHours(0, 0, 0, 0);\n  return date;\n}","import getTimezoneOffsetInMilliseconds from \"../_lib/getTimezoneOffsetInMilliseconds/index.js\";\nimport startOfDay from \"../startOfDay/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nvar MILLISECONDS_IN_DAY = 86400000;\n/**\n * @name differenceInCalendarDays\n * @category Day Helpers\n * @summary Get the number of calendar days between the given dates.\n *\n * @description\n * Get the number of calendar days between the given dates. This means that the times are removed\n * from the dates and then the difference in days is calculated.\n *\n * @param {Date|Number} dateLeft - the later date\n * @param {Date|Number} dateRight - the earlier date\n * @returns {Number} the number of calendar days\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // How many calendar days are between\n * // 2 July 2011 23:00:00 and 2 July 2012 00:00:00?\n * const result = differenceInCalendarDays(\n *   new Date(2012, 6, 2, 0, 0),\n *   new Date(2011, 6, 2, 23, 0)\n * )\n * //=> 366\n * // How many calendar days are between\n * // 2 July 2011 23:59:00 and 3 July 2011 00:01:00?\n * const result = differenceInCalendarDays(\n *   new Date(2011, 6, 3, 0, 1),\n *   new Date(2011, 6, 2, 23, 59)\n * )\n * //=> 1\n */\n\nexport default function differenceInCalendarDays(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var startOfDayLeft = startOfDay(dirtyDateLeft);\n  var startOfDayRight = startOfDay(dirtyDateRight);\n  var timestampLeft = startOfDayLeft.getTime() - getTimezoneOffsetInMilliseconds(startOfDayLeft);\n  var timestampRight = startOfDayRight.getTime() - getTimezoneOffsetInMilliseconds(startOfDayRight); // Round the number of days to the nearest integer\n  // because the number of milliseconds in a day is not constant\n  // (e.g. it's different in the day of the daylight saving time clock shift)\n\n  return Math.round((timestampLeft - timestampRight) / MILLISECONDS_IN_DAY);\n}","import toDate from \"../toDate/index.js\";\nimport differenceInCalendarDays from \"../differenceInCalendarDays/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\"; // Like `compareAsc` but uses local time not UTC, which is needed\n// for accurate equality comparisons of UTC timestamps that end up\n// having the same representation in local time, e.g. one hour before\n// DST ends vs. the instant that DST ends.\n\nfunction compareLocalAsc(dateLeft, dateRight) {\n  var diff = dateLeft.getFullYear() - dateRight.getFullYear() || dateLeft.getMonth() - dateRight.getMonth() || dateLeft.getDate() - dateRight.getDate() || dateLeft.getHours() - dateRight.getHours() || dateLeft.getMinutes() - dateRight.getMinutes() || dateLeft.getSeconds() - dateRight.getSeconds() || dateLeft.getMilliseconds() - dateRight.getMilliseconds();\n\n  if (diff < 0) {\n    return -1;\n  } else if (diff > 0) {\n    return 1; // Return 0 if diff is 0; return NaN if diff is NaN\n  } else {\n    return diff;\n  }\n}\n/**\n * @name differenceInDays\n * @category Day Helpers\n * @summary Get the number of full days between the given dates.\n *\n * @description\n * Get the number of full day periods between two dates. Fractional days are\n * truncated towards zero.\n *\n * One \"full day\" is the distance between a local time in one day to the same\n * local time on the next or previous day. A full day can sometimes be less than\n * or more than 24 hours if a daylight savings change happens between two dates.\n *\n * To ignore DST and only measure exact 24-hour periods, use this instead:\n * `Math.floor(differenceInHours(dateLeft, dateRight)/24)|0`.\n *\n *\n * @param {Date|Number} dateLeft - the later date\n * @param {Date|Number} dateRight - the earlier date\n * @returns {Number} the number of full days according to the local timezone\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // How many full days are between\n * // 2 July 2011 23:00:00 and 2 July 2012 00:00:00?\n * const result = differenceInDays(\n *   new Date(2012, 6, 2, 0, 0),\n *   new Date(2011, 6, 2, 23, 0)\n * )\n * //=> 365\n * // How many full days are between\n * // 2 July 2011 23:59:00 and 3 July 2011 00:01:00?\n * const result = differenceInDays(\n *   new Date(2011, 6, 3, 0, 1),\n *   new Date(2011, 6, 2, 23, 59)\n * )\n * //=> 0\n * // How many full days are between\n * // 1 March 2020 0:00 and 1 June 2020 0:00 ?\n * // Note: because local time is used, the\n * // result will always be 92 days, even in\n * // time zones where DST starts and the\n * // period has only 92*24-1 hours.\n * const result = differenceInDays(\n *   new Date(2020, 5, 1),\n *   new Date(2020, 2, 1)\n * )\n//=> 92\n */\n\n\nexport default function differenceInDays(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeft = toDate(dirtyDateLeft);\n  var dateRight = toDate(dirtyDateRight);\n  var sign = compareLocalAsc(dateLeft, dateRight);\n  var difference = Math.abs(differenceInCalendarDays(dateLeft, dateRight));\n  dateLeft.setDate(dateLeft.getDate() - sign * difference); // Math.abs(diff in full days - diff in calendar days) === 1 if last calendar day is not full\n  // If so, result must be decreased by 1 in absolute value\n\n  var isLastDayNotFull = Number(compareLocalAsc(dateLeft, dateRight) === -sign);\n  var result = sign * (difference - isLastDayNotFull); // Prevent negative zero\n\n  return result === 0 ? 0 : result;\n}","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name endOfDay\n * @category Day Helpers\n * @summary Return the end of a day for the given date.\n *\n * @description\n * Return the end of a day for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|Number} date - the original date\n * @returns {Date} the end of a day\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // The end of a day for 2 September 2014 11:55:00:\n * const result = endOfDay(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 02 2014 23:59:59.999\n */\n\nexport default function endOfDay(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  date.setHours(23, 59, 59, 999);\n  return date;\n}","import { getDefaultOptions } from \"../_lib/defaultOptions/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport toInteger from \"../_lib/toInteger/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n\n/**\n * @name endOfWeek\n * @category Week Helpers\n * @summary Return the end of a week for the given date.\n *\n * @description\n * Return the end of a week for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|Number} date - the original date\n * @param {Object} [options] - an object with options.\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @param {0|1|2|3|4|5|6} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\n * @returns {Date} the end of a week\n * @throws {TypeError} 1 argument required\n * @throws {RangeError} `options.weekStartsOn` must be between 0 and 6\n *\n * @example\n * // The end of a week for 2 September 2014 11:55:00:\n * const result = endOfWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Sat Sep 06 2014 23:59:59.999\n *\n * @example\n * // If the week starts on Monday, the end of the week for 2 September 2014 11:55:00:\n * const result = endOfWeek(new Date(2014, 8, 2, 11, 55, 0), { weekStartsOn: 1 })\n * //=> Sun Sep 07 2014 23:59:59.999\n */\nexport default function endOfWeek(dirtyDate, options) {\n  var _ref, _ref2, _ref3, _options$weekStartsOn, _options$locale, _options$locale$optio, _defaultOptions$local, _defaultOptions$local2;\n\n  requiredArgs(1, arguments);\n  var defaultOptions = getDefaultOptions();\n  var weekStartsOn = toInteger((_ref = (_ref2 = (_ref3 = (_options$weekStartsOn = options === null || options === void 0 ? void 0 : options.weekStartsOn) !== null && _options$weekStartsOn !== void 0 ? _options$weekStartsOn : options === null || options === void 0 ? void 0 : (_options$locale = options.locale) === null || _options$locale === void 0 ? void 0 : (_options$locale$optio = _options$locale.options) === null || _options$locale$optio === void 0 ? void 0 : _options$locale$optio.weekStartsOn) !== null && _ref3 !== void 0 ? _ref3 : defaultOptions.weekStartsOn) !== null && _ref2 !== void 0 ? _ref2 : (_defaultOptions$local = defaultOptions.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.weekStartsOn) !== null && _ref !== void 0 ? _ref : 0); // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\n\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\n  }\n\n  var date = toDate(dirtyDate);\n  var day = date.getDay();\n  var diff = (day < weekStartsOn ? -7 : 0) + 6 - (day - weekStartsOn);\n  date.setDate(date.getDate() + diff);\n  date.setHours(23, 59, 59, 999);\n  return date;\n}","import { endOfMonth, endOfWeek, startOfMonth, startOfWeek } from 'date-fns/esm';\r\nimport CalendarEvent from './CalendarEvent';\r\nimport { differenceInMilliseconds } from 'date-fns';\r\n\r\n\r\n/**\r\n * Calculates start and end dates of month in a calendar.\r\n * @param date Context date for which range need to calculated.\r\n * @param weekStartsOn A numeric value. The index of the first day of the week (0 - Sunday)\r\n */\r\nexport function calculateMonthRange(date, weekStartsOn: 0 | 1 | 2 | 3 | 4 | 5 | 6 = 1) {\r\n  const startDate = startOfWeek(startOfMonth(date), { weekStartsOn });\r\n  const endDate = endOfWeek(endOfMonth(date), { weekStartsOn });\r\n  return {\r\n    startDate,\r\n    endDate,\r\n    totalDays: 42,\r\n  };\r\n}\r\n\r\n/*\r\n *\r\n */\r\nexport function calculateWeekRange(date, weekStartsOn: 0 | 1 | 2 | 3 | 4 | 5 | 6 = 1) {\r\n  const startDate = startOfWeek(date, { weekStartsOn });\r\n  const endDate = endOfWeek(date, { weekStartsOn });\r\n  return {\r\n    startDate,\r\n    endDate,\r\n    totalDays: 7,\r\n  };\r\n}\r\n\r\nexport class EventNode {\r\n  event: CalendarEvent;\r\n\r\n  width: number = 1;\r\n\r\n  constructor(event) {\r\n    this.event = event;\r\n  }\r\n\r\n}\r\n\r\n\r\nexport class EventBucket {\r\n\r\n  eventNodes: EventNode[] = [];\r\n\r\n  columns: EventNode[][];\r\n\r\n  constructor() {\r\n\r\n  }\r\n\r\n\r\n  insert(node: EventNode) {\r\n    this.eventNodes.push(node);\r\n  }\r\n\r\n  process() {\r\n    this.columns = [];\r\n    let events = this.eventNodes.sort((a, b) => {\r\n      return differenceInMilliseconds(a.event.start, b.event.start) || b.event.length() - a.event.length();\r\n    });\r\n\r\n    let oldLength = null;\r\n    /* Bucketing */\r\n    while (events.length) {\r\n      if (oldLength == events.length)\r\n        throw new Error('Events not processed in previous run, breaking infinite loop');\r\n      oldLength = events.length;\r\n\r\n      const column = [];\r\n      for (let i = 0; i < events.length; i++) {\r\n        if (i == 0)\r\n          column.push(events[i]);\r\n        else if (differenceInMilliseconds(events[i].event.start, column[column.length - 1].event.end) >= 0) {\r\n          column.push(events[i]);\r\n        }\r\n      }\r\n      this.columns.push(column);\r\n      events = events.filter((e) => {\r\n        return !column.find((ce) => {\r\n          return ce.event == e.event;\r\n        });\r\n      });\r\n    }\r\n\r\n    for (let i = 0; i < this.columns.length - 1; i++) {\r\n\r\n      this.columns[i].forEach((event) => {\r\n        for (let j = i + 1; j < this.columns.length; j++) {\r\n          if (this.columns[j].find((colEvent) => {\r\n            return this.#eventOverlapping(event.event, colEvent.event);\r\n          })) {\r\n            break;\r\n          }\r\n          event.width++;\r\n        }\r\n      });\r\n\r\n    }\r\n  }\r\n\r\n  #eventOverlapping(eventA: CalendarEvent, eventB: CalendarEvent) {\r\n    if (differenceInMilliseconds(eventA.start, eventB.start) > 0) {\r\n      const temp = eventA;\r\n      eventA = eventB;\r\n      eventB = temp;\r\n    }\r\n    const totalLength = differenceInMilliseconds(eventB.end, eventA.start);\r\n    return totalLength < eventA.length() + eventB.length();\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n","import CalendarEvent from '../CalendarEvent';\r\n\r\nexport default class ColumnEventManager {\r\n\r\n  #events: CalendarEvent[] = [];\r\n\r\n  addEvents(events: CalendarEvent[]) {\r\n    this.#events = this.#events.concat(events);\r\n  }\r\n\r\n  getEvents() {\r\n    return this.#events;\r\n  }\r\n}\r\n","@import \"../../../../globalStyles/commons\";\r\n\r\n:host {\r\n  display: block;\r\n  height: 100%;\r\n  --calendar-border-color: #{v(--ui-04)};\r\n  --scale-size: 3rem;\r\n  --scale-color: #{v(--text-placeholder)}\r\n}\r\n\r\n.scale {\r\n  width: var(--scale-size);\r\n}\r\n\r\n\r\n.calendar-column-view {\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100%;\r\n\r\n  .view-header {\r\n    border-top: 1px solid v(--border-color);\r\n    display: flex;\r\n\r\n    .scale {\r\n      border-bottom: 1px solid v(--scale-color);\r\n      border-right: 1px solid v(--scale-color);\r\n    }\r\n\r\n    .columns {\r\n      display: flex;\r\n      flex: 1;\r\n      border-bottom: 1px solid v(--scale-color);\r\n\r\n      .column {\r\n        flex: 1;\r\n\r\n\r\n        border-right: 1px solid v(--scale-color);\r\n\r\n\r\n        .column-content {\r\n          display: flex;\r\n          border-top: .5rem solid transparent;\r\n          align-items: center;\r\n          padding: .5rem;\r\n          gap: .5rem;\r\n        }\r\n\r\n        &.today {\r\n          .column-content {\r\n            border-top-color: v(--color-primary);\r\n\r\n            .date {\r\n              color: v(--color-primary);\r\n            }\r\n          }\r\n        }\r\n\r\n        .date {\r\n          font-size: 2rem;\r\n          cursor: pointer;\r\n          border-radius: 100%;\r\n          padding: 0.5rem;\r\n\r\n          &:hover {\r\n            background: v(--color-primary-30);\r\n          }\r\n        }\r\n\r\n        .day {\r\n          font-size: 1rem;\r\n        }\r\n      }\r\n    }\r\n\r\n    .scrollbar-placeholder {\r\n      width: var(--scrollbar-width);\r\n    }\r\n  }\r\n\r\n  .view-body {\r\n    height: 100%;\r\n    border-bottom: 1px solid v(--calendar-border-color);\r\n    overflow-y: scroll;\r\n\r\n    .view-body-scroll {\r\n      display: flex;\r\n      position: relative;\r\n\r\n      .scale {\r\n        border-right: 1px solid v(--scale-color);\r\n\r\n        .row {\r\n          width: 0;\r\n          position: relative;\r\n          height: 2rem;\r\n          border-bottom: 1px dashed v(--scale-color);\r\n\r\n          &.hour {\r\n            border-bottom: 1px solid v(--scale-color);\r\n            width: 50%;\r\n            margin-inline-start: 50%;\r\n          }\r\n\r\n          &:last-child {\r\n            border-bottom: 0;\r\n          }\r\n\r\n          .time {\r\n            position: absolute;\r\n            top: -.5rem;\r\n            font-size: .75rem;\r\n          }\r\n        }\r\n      }\r\n\r\n      .drawing-area {\r\n        flex: 1;\r\n\r\n        .events-container {\r\n          position: absolute;\r\n          top: 0;\r\n          left: var(--scale-size);\r\n          width: calc(100% - var(--scale-size));\r\n          height: 100%;\r\n          display: flex;\r\n          .column {\r\n            flex: 1;\r\n            padding: 0 1rem 0 1px;\r\n\r\n            .column-content {\r\n              position: relative;\r\n              height: 100%;\r\n            }\r\n\r\n            .event {\r\n              background: v(--color-primary-20);\r\n              border-left: .35rem solid v(--color-primary);\r\n              border-radius: 3px;\r\n              position: absolute;\r\n              .event-title {\r\n                padding: 0.25rem;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      .current-time-line {\r\n        position: absolute;\r\n        z-index: 100;\r\n        pointer-events: none;\r\n        width: calc(100% - var(--scale-size));\r\n        margin-inline-start: var(--scale-size);\r\n\r\n        .time {\r\n          position: absolute;\r\n          font-size: .5rem;\r\n          font-weight: 600;\r\n          color: v(--color-primary);\r\n          top: -6px;\r\n          left: -3rem;\r\n          background: v(--color-primary-10);\r\n          padding: 2px;\r\n          border-radius: 3px;\r\n        }\r\n\r\n        .dash-line {\r\n          position: absolute;\r\n          left: 0;\r\n          border-bottom: 1px dashed v(--color-primary);\r\n        }\r\n\r\n        .dot {\r\n          border-radius: 100%;\r\n          width: 0.5rem;\r\n          height: 0.5rem;\r\n          background: v(--color-primary);\r\n          display: block;\r\n          position: absolute;\r\n          top: -0.25rem;\r\n        }\r\n\r\n        .line {\r\n          border-bottom: 2px solid v(--color-primary);\r\n          position: absolute;\r\n          top: -1px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { Component, ComponentInterface, Element, h, Prop } from '@stencil/core';\nimport { addDays, addHours, differenceInDays, endOfDay, format, isEqual, startOfDay } from 'date-fns';\nimport { calculateWeekRange } from '../utils';\nimport ColumnEventManager from './ColumnEventManager';\n\n\n@Component({\n  tag: 'goat-calendar-column-view',\n  styleUrl: 'column-view.scss',\n  shadow: true,\n})\nexport class CalendarColumnView implements ComponentInterface {\n\n  @Element() elm!: HTMLElement;\n\n  @Prop() events: any[] = [];\n\n  @Prop() view = 'week';\n\n  @Prop() days = 7;\n\n  @Prop() currentTime: Date;\n\n  @Prop() contextDate: Date;\n\n  dateRange: any;\n\n\n  singleDayEvents: any = {};\n\n  manager: ColumnEventManager;\n\n  async componentWillLoad() {\n    this.manager = new ColumnEventManager();\n    this.manager.addEvents(this.events);\n\n  }\n\n  async componentDidLoad() {\n    const viewBodyHeight = this.elm.shadowRoot.querySelector('.view-body').scrollHeight;\n    this.elm.shadowRoot.querySelector('.view-body').scroll({ top: (this.getTimePercent(this.currentTime) / 100) * viewBodyHeight - 150 });\n  }\n\n\n  renderHeader() {\n    const columns = [];\n    for (let i = new Date(this.dateRange.startDate); differenceInDays(startOfDay(this.dateRange.endDate), i) >= 0; i = addDays(i, 1)) {\n      const cls = ['column'];\n      const diff = differenceInDays(startOfDay(i), startOfDay(this.currentTime));\n      if (diff === 0)\n        cls.push('today');\n      else if (diff < 0)\n        cls.push('past');\n      else if (diff < 0)\n        cls.push('future');\n\n      columns.push(<div class={cls.join(' ')}>\n        <div class='column-content'>\n          <div class='date' onClick={() => {\n            alert('date clicked');\n          }}>\n            {format(i, 'dd')}\n          </div>\n          <div class='day'>\n            {format(i, 'E')}\n          </div>\n        </div>\n      </div>);\n    }\n    return columns;\n  }\n\n\n  renderBackgroundColumns() {\n    const columns = [];\n    for (let i = new Date(this.dateRange.startDate); differenceInDays(startOfDay(this.dateRange.endDate), i) >= 0; i = addDays(i, 1)) {\n      const cls = ['column'];\n      if (isEqual(startOfDay(i), startOfDay(this.currentTime)))\n        cls.push('active');\n      columns.push(<div class={cls.join(' ')}>\n      </div>);\n    }\n    return columns;\n  }\n\n  renderBodyBackground() {\n    const rows = [];\n    for (let i = 0; i < 48; i++) { // @TODO: parameterize number of column, currently rendering 24 hours\n      const cls = ['row'];\n      if (i % 2)\n        cls.push('hour');\n      const row = <div class={cls.join(' ')}>\n        {this.renderBackgroundColumns()}\n      </div>;\n      rows.push(row);\n    }\n    return <div class='background'>{rows}</div>;\n  }\n\n  renderScale() {\n    const rows = [];\n    for (let i = 0; i < 48; i++) { // @TODO: parameterize number of column, currently rendering 24 hours\n      const cls = ['row'];\n      if (i % 2)\n        cls.push('hour');\n      const startTime = startOfDay(new Date());\n      const row = <div class={cls.join(' ')}>\n        {\n          (() => {\n            if (i % 2 == 0 && i) {\n              return <div class='time'>{format(addHours(startTime, i / 2), 'hh a')}</div>;\n            }\n          })()\n        }\n      </div>;\n      rows.push(row);\n    }\n    return <div class='background'>{rows}</div>;\n  }\n\n  renderEvents() {\n    const columns = [];\n    for (let i = new Date(this.dateRange.startDate), j = 0; differenceInDays(startOfDay(this.dateRange.endDate), i) >= 0; i = addDays(i, 1), j++) {\n      const cls = ['column'];\n      if (isEqual(startOfDay(i), startOfDay(this.currentTime)))\n        cls.push('active');\n      columns.push(<div class={cls.join(' ')}>\n        <div class='column-content'>\n          {\n            (() => {\n              /*if (this.eventDays[format(startOfDay(i), 'dd-MM-yyyy')]) {\n                const eventDay = this.eventDays[format(startOfDay(i), 'dd-MM-yyyy')];\n                const columnsLength = eventDay.length;\n                return eventDay.map((nodes, columnIndex) => {\n                  return nodes.map((node) => {\n                    return <div class='event' style={{\n                      top: `${this.getTimePercent(node.event.start, startOfDay(i))}%`,\n                      height: `${this.getTimePercent(node.event.end, startOfDay(i)) - this.getTimePercent(node.event.start, startOfDay(i))}%`,\n                      left: `${columnIndex / columnsLength * 100}%`,\n                      width: `calc(${(1 * node.width) / columnsLength * 100}% - 1px)`,\n                    }}>\n                      <div class='event-title'>{node.event.title || '(no title)'}</div>\n                    </div>;\n                  });\n                });\n              }*/\n            })()\n          }\n\n        </div>\n      </div>);\n    }\n    return <div class='events-container'>{\n      columns\n    }</div>;\n  }\n\n  getDatePercent() {\n    const currentDay = differenceInDays(startOfDay(this.currentTime), this.dateRange.startDate);\n    return (currentDay / this.dateRange.totalDays) * 100;\n  }\n\n  getTimePercent(time, forDay?) {\n    if (!forDay)\n      forDay = time;\n    const startDate = startOfDay(forDay);\n    const endDate = endOfDay(forDay);\n    const percent = (time.valueOf() - startDate.valueOf()) / (endDate.valueOf() - startDate.valueOf()) * 100;\n    if (percent < 0)\n      return 0;\n    if (percent > 100)\n      return 100;\n    return percent;\n  }\n\n\n  render() {\n    if (this.view === 'week') {\n      this.dateRange = calculateWeekRange(this.contextDate, 1);\n    } else {\n      this.dateRange.startDate = startOfDay(this.contextDate);\n      this.dateRange.endDate = endOfDay(addDays(this.contextDate, this.days - 1));\n      this.dateRange.totalDays = this.days;\n    }\n\n\n    return <div class='calendar-column-view'>\n      <div class='view-header'>\n        <div class='scale' />\n        <div class='columns'>\n          {this.renderHeader()}\n        </div>\n        <div class='scrollbar-placeholder' />\n      </div>\n      <div class='view-body'>\n        <div class='view-body-scroll'>\n          <div class='scale'>\n            {this.renderScale()}\n          </div>\n          <div class='drawing-area'>\n            <goat-calendar-column-view-background columns={this.dateRange.totalDays} />\n            {this.renderEvents()}\n          </div>\n          {\n            (() => {\n              if (this.currentTime.valueOf() > this.dateRange.startDate.valueOf() - 1 && this.currentTime.valueOf() < this.dateRange.endDate.valueOf() + 1) {\n                return <div class='current-time-line'\n                            style={{ top: `calc(${this.getTimePercent(this.currentTime)}% - 1px)` }}>\n                  <div class='time'>{format(this.contextDate, 'hh:mm a')}</div>\n                  <div class='dash-line' style={{ width: `${this.getDatePercent()}%` }}></div>\n                  <div class='dot' style={{ 'left': `calc( ${this.getDatePercent()}% - 0.25rem)` }}></div>\n                  <div class='line'\n                       style={{\n                         'left': `${this.getDatePercent()}%`,\n                         width: `${(1 / this.dateRange.totalDays) * 100}%`,\n                       }}></div>\n                </div>;\n              }\n            })()\n          }\n        </div>\n      </div>\n    </div>;\n  }\n\n\n}\n"],"version":3}