{"version":3,"file":"calendar.js","sourceRoot":"","sources":["../../../../src/components/calendar/calendar/calendar.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, ComponentInterface, Element, h, Host, Prop } from '@stencil/core';\nimport { addDays, format } from 'date-fns';\n\n\n/**\n * @name Calendar\n * @description The calendar component is used to display information in a daily, weekly, monthly, or category view.\n * @img /assets/img/calendar.png\n */\n@Component({\n  tag: 'goat-calendar',\n  styleUrl: 'calendar.scss',\n  shadow: true,\n})\nexport class Calendar implements ComponentInterface {\n\n  @Element() elm!: HTMLElement;\n\n  @Prop() events: any[] = [];\n\n  @Prop() availableViews: any = [{ label: 'Day', value: 'day', type: 'column', days: 1 }, {\n    label: 'Week',\n    value: 'week',\n    type: 'column',\n    days: 7,\n  }, {\n    label: 'Month',\n    value: 'month',\n    type: 'month',\n  }];\n\n  @Prop() view: string = 'week';\n\n  /**\n   * Show loader.\n   */\n  @Prop() showLoader: boolean = false;\n\n  @Prop() timezone;\n\n\n  currentTime;\n  currentView: any;\n\n  @Prop({ mutable: true }) contextDate;\n\n\n  async componentWillLoad() {\n\n    console.log(this.view);\n    if (this.timezone) {\n      this.currentTime = new Date(new Date().toLocaleString('en', { timeZone: this.timezone }));\n    } else {\n      this.currentTime = new Date();\n    }\n\n    if (!this.contextDate) {\n      this.contextDate = this.currentTime;\n    }\n\n  }\n\n\n  renderCalendarView() {\n    this.currentView = this.availableViews.find((view) => {\n      return view.value === this.view;\n    });\n    if (!this.currentView)\n      return 'Invalid view';\n    if (this.currentView.type === 'column') {\n      return <goat-calendar-column-view\n        currentTime={this.currentTime}\n        contextDate={this.contextDate}\n        events={[]/*generateEvents()*/}\n      />;\n    }\n  }\n\n  renderHeader() {\n    return <div class='calendar-header-classic'>\n      <div class='header-left'>\n        <goat-button variant='outline' size='sm' class='color-secondary' onClick={() => {\n          this.contextDate = this.currentTime;\n        }}>Today</goat-button>\n        <goat-button variant='ghost' size='sm' class='color-secondary' icon='chevron-left' onClick={() => {\n          this.contextDate = addDays(this.contextDate, -7);\n        }}></goat-button>\n        <goat-button variant='ghost' size='sm' class='color-secondary' icon='chevron-right' onClick={() => {\n          this.contextDate = addDays(this.contextDate, 7);\n        }}></goat-button>\n\n        <div class='title'>\n          {format(this.contextDate, 'MMMM d, yyyy')}\n        </div>\n      </div>\n      <div class='header-right'>\n        <goat-select\n          size='sm'\n          positions={'bottom-left'}\n          value={this.view}\n          items={this.availableViews.map((view) => {\n            return {\n              'label': view.label,\n              'value': view.value,\n            };\n          })}\n          onGoat:change={(event) => {\n            this.view = event.detail.value;\n          }}\n        ></goat-select>\n      </div>\n    </div>;\n  }\n\n\n  render() {\n\n    return (\n      <Host>\n        <div class='calendar'>\n          <div class='calendar-header'>\n            {this.renderHeader()}\n          </div>\n          <div class='calendar-body'>\n            <div class='view-container'>\n              {this.renderCalendarView()}\n            </div>\n            <div class='contextual-panel'></div>\n          </div>\n        </div>\n      </Host>\n    );\n  }\n\n}\n"]}