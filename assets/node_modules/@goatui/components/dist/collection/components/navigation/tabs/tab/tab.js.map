{"version":3,"file":"tab.js","sourceRoot":"","sources":["../../../../../src/components/navigation/tabs/tab/tab.tsx"],"names":[],"mappings":"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","sourcesContent":["import {\r\n  Component,\r\n  ComponentInterface,\r\n  Element,\r\n  Event,\r\n  EventEmitter,\r\n  h,\r\n  Host,\r\n  Listen, Method,\r\n  Prop,\r\n  State,\r\n} from '@stencil/core';\r\nimport { ElementSize, getComponentIndex } from '../../../../utils/utils';\r\n\r\n\r\n@Component({\r\n  tag: 'goat-tab',\r\n  styleUrl: 'tab.scss',\r\n  shadow: true,\r\n})\r\nexport class Tab implements ComponentInterface {\r\n\r\n  gid: string = getComponentIndex();\r\n\r\n  /**\r\n   * Button size.\r\n   * Possible values are `\"sm\"`, `\"md\"`, `\"lg\"`, `\"xl\"`, `\"xxl\"`. Defaults to `\"md\"`.\r\n   */\r\n  @Prop() size: 'sm' | 'md' | 'lg' | 'xl' | 'xxl' = 'md';\r\n\r\n\r\n  /**\r\n   * Button selection state.\r\n   */\r\n  @Prop({ reflect: true }) selected: boolean = false;\r\n\r\n  /**\r\n   * If true, the user cannot interact with the button. Defaults to `false`.\r\n   */\r\n  @Prop({ reflect: true }) disabled: boolean = false;\r\n\r\n  @Prop() disabledReason: string = '';\r\n  /**\r\n   * Icon which will displayed on button.\r\n   * Possible values are bootstrap icon names.\r\n   */\r\n  @Prop() icon: string;\r\n\r\n\r\n  @Prop() label: string;\r\n  @Prop() value: string;\r\n  @Prop() target: string;\r\n\r\n  /**\r\n   * Show loader.\r\n   */\r\n  @Prop() showLoader: boolean = false;\r\n\r\n  /**\r\n   * On click of tab, a CustomEvent 'goat:tab-click' will be triggered.\r\n   */\r\n  @Event({ eventName: 'goat:tab-click' }) goatTabClick: EventEmitter;\r\n\r\n\r\n  @State() hasFocus = false;\r\n  @State() isActive = false;\r\n  @State() slotHasContent = false;\r\n  @Element() elm!: HTMLElement;\r\n  private tabindex?: string | number;\r\n  private nativeInput?: HTMLButtonElement;\r\n\r\n\r\n  @Listen('mouseup', { target: 'window' })\r\n  windowMouseUp() {\r\n    if (this.isActive)\r\n      this.isActive = false;\r\n  }\r\n\r\n  @Listen('keyup', { target: 'window' })\r\n  windowKeyUp(evt) {\r\n    if (this.isActive && (evt.key == ' '))\r\n      this.isActive = false;\r\n  }\r\n\r\n  @Method()\r\n  async setFocus() {\r\n    if (this.nativeInput) {\r\n      this.nativeInput.focus();\r\n    }\r\n  }\r\n\r\n  @Method()\r\n  async triggerClick() {\r\n    if (this.nativeInput) {\r\n      this.nativeInput.click();\r\n    }\r\n  }\r\n\r\n\r\n  private getIconSize() {\r\n    switch (this.size) {\r\n      case ElementSize.SMALL:\r\n        return 'sm';\r\n      case ElementSize.LARGE:\r\n        return 'md';\r\n      case ElementSize.X_LARGE:\r\n        return 'md';\r\n      case ElementSize.XX_LARGE:\r\n        return 'lg';\r\n      default:\r\n        return 'sm';\r\n    }\r\n  }\r\n\r\n\r\n  private clickHandler = () => {\r\n    this.goatTabClick.emit({\r\n      value: this.value,\r\n      target: this.target,\r\n    });\r\n  };\r\n  private blurHandler = () => {\r\n    this.hasFocus = false;\r\n  };\r\n\r\n  private focusHandler = () => {\r\n    this.hasFocus = true;\r\n  };\r\n\r\n  private mouseDownHandler = () => {\r\n    this.isActive = true;\r\n  };\r\n\r\n  private keyDownHandler = (evt) => {\r\n    if (evt.key == ' ') {\r\n      this.isActive = true;\r\n      this.clickHandler();\r\n    }\r\n  };\r\n\r\n  componentWillLoad() {\r\n    // If the ion-input has a tabindex attribute we get the value\r\n    // and pass it down to the native input, then remove it from the\r\n    // goat-input to avoid causing tabbing twice on the same element\r\n    if (this.elm.hasAttribute('tabindex')) {\r\n      const tabindex = this.elm.getAttribute('tabindex');\r\n      this.tabindex = tabindex !== null ? tabindex : undefined;\r\n      this.elm.removeAttribute('tabindex');\r\n    }\r\n    this.slotHasContent = this.elm.hasChildNodes();\r\n  }\r\n\r\n  private renderDisabledReason() {\r\n    if (this.disabled && this.disabledReason)\r\n      return <div id={`disabled-reason-${this.gid}`} role='tooltip' class='sr-only'>\r\n        {this.disabledReason}\r\n      </div>;\r\n  }\r\n\r\n  render() {\r\n\r\n    return (<Host has-focus={this.hasFocus} active={this.isActive}>\r\n      <div class={{\r\n        tab: true,\r\n        [`size-${this.size}`]: true,\r\n        'disabled': this.disabled,\r\n        'selected': this.selected,\r\n        'has-focus': this.hasFocus,\r\n        'active': this.isActive,\r\n        'has-content': this.slotHasContent,\r\n        'show-loader': this.showLoader,\r\n      }}>\r\n        <div class='tab-background' />\r\n        <button\r\n          class='native-button'\r\n          tabindex={this.tabindex}\r\n          ref={input => this.nativeInput = input}\r\n          onBlur={this.blurHandler}\r\n          onFocus={this.focusHandler}\r\n          onClick={this.clickHandler}\r\n          onMouseDown={this.mouseDownHandler}\r\n          onKeyDown={this.keyDownHandler}\r\n          disabled={this.disabled}\r\n          aria-describedby={this.disabled && this.disabledReason ? `disabled-reason-${this.gid}` : null}\r\n          aria-disabled={(this.disabled || this.showLoader) + ''}>\r\n\r\n          <div class='tab-content'>\r\n            {this.showLoader && <goat-spinner class='spinner inherit' size={this.getIconSize()} />}\r\n\r\n            {!this.showLoader && this.icon && this.renderIcon()}\r\n\r\n            {!this.showLoader && <div class='slot-container'>\r\n              <slot />\r\n            </div>}\r\n          </div>\r\n\r\n        </button>\r\n        {this.renderDisabledReason()}\r\n      </div>\r\n    </Host>);\r\n  }\r\n\r\n  private renderIcon = () => {\r\n    return <goat-icon name={this.icon} size={this.getIconSize()} class='icon inherit' />;\r\n  };\r\n\r\n}\r\n"]}