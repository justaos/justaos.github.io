{"version":3,"file":"datasource.js","sourceRoot":"","sources":["../../../../src/components/content/svg/datasource.ts"],"names":[],"mappings":"AAAA,MAAM,KAAK,GAA2B,EAAE,CAAC;AAEzC,+FAA+F;AAC/F,MAAM,CAAC,KAAK,UAAU,SAAS,CAAC,GAAG;EACjC,IAAI,CAAC,GAAG;IAAE,OAAO,EAAE,CAAC;EACpB,IAAI,KAAK,CAAC,GAAG,CAAC,EAAE;IACd,OAAO,KAAK,CAAC,GAAG,CAAC,CAAC;GACnB;EACD,MAAM,GAAG,GAAG,MAAM,KAAK,CAAC,GAAG,EAAE;IAC3B,MAAM,EAAE,KAAK;IACb,IAAI,EAAE,MAAM;IACZ,WAAW,EAAE,MAAM;GACpB,CAAC,CAAC;EACH,KAAK,CAAC,GAAG,CAAC,GAAG,MAAM,GAAG,CAAC,IAAI,EAAE,CAAC;EAC9B,OAAO,KAAK,CAAC,GAAG,CAAC,CAAC;AACpB,CAAC","sourcesContent":["const cache: Record<string, string> = {};\r\n\r\n// TODO: prevent duplicated request when rendering multiple icons with same name simultaneously\r\nexport async function fetchIcon(url) {\r\n  if (!url) return '';\r\n  if (cache[url]) {\r\n    return cache[url];\r\n  }\r\n  const res = await fetch(url, {\r\n    method: 'GET',\r\n    mode: 'cors',\r\n    credentials: 'omit',\r\n  });\r\n  cache[url] = await res.text();\r\n  return cache[url];\r\n}\r\n"]}