{"version":3,"sources":["src/components/calendar/calendar/calendar.scss?tag=goat-calendar&encapsulation=shadow","src/components/calendar/calendar/calendar.tsx"],"names":["calendarCss","Calendar","label","value","type","days","[object Object]","console","log","this","view","timezone","currentTime","Date","toLocaleString","timeZone","contextDate","currentView","availableViews","find","h","events","class","variant","size","onClick","icon","addDays","format","positions","items","map","onGoat:change","event","detail","Host","renderHeader","renderCalendarView"],"mappings":"4HAAA,MAAMA,EAAc,o1CCcPC,EAAQ,2CAIK,uBAEM,CAAC,CAAEC,MAAO,MAAOC,MAAO,MAAOC,KAAM,SAAUC,KAAM,GAAK,CACtFH,MAAO,OACPC,MAAO,OACPC,KAAM,SACNC,KAAM,GACL,CACDH,MAAO,QACPC,MAAO,QACPC,KAAM,oBAGe,uBAKO,yDAW9BE,0BAEEC,QAAQC,IAAIC,KAAKC,MACjB,GAAID,KAAKE,SAAU,CACjBF,KAAKG,YAAc,IAAIC,MAAK,IAAIA,MAAOC,eAAe,KAAM,CAAEC,SAAUN,KAAKE,gBACxE,CACLF,KAAKG,YAAc,IAAIC,KAGzB,IAAKJ,KAAKO,YAAa,CACrBP,KAAKO,YAAcP,KAAKG,aAM5BN,qBACEG,KAAKQ,YAAcR,KAAKS,eAAeC,MAAMT,GACpCA,EAAKP,QAAUM,KAAKC,OAE7B,IAAKD,KAAKQ,YACR,MAAO,eACT,GAAIR,KAAKQ,YAAYb,OAAS,SAAU,CACtC,OAAOgB,EAAA,4BAAA,CACLR,YAAaH,KAAKG,YAClBI,YAAaP,KAAKO,YAClBK,OAAQ,MAKdf,eACE,OAAOc,EAAA,MAAA,CAAKE,MAAM,2BAChBF,EAAA,MAAA,CAAKE,MAAM,eACTF,EAAA,cAAA,CAAaG,QAAQ,UAAUC,KAAK,KAAKF,MAAM,kBAAkBG,QAAS,KACxEhB,KAAKO,YAAcP,KAAKG,cACzB,SACDQ,EAAA,cAAA,CAAaG,QAAQ,QAAQC,KAAK,KAAKF,MAAM,kBAAkBI,KAAK,eAAeD,QAAS,KAC1FhB,KAAKO,YAAcW,EAAQlB,KAAKO,aAAc,MAEhDI,EAAA,cAAA,CAAaG,QAAQ,QAAQC,KAAK,KAAKF,MAAM,kBAAkBI,KAAK,gBAAgBD,QAAS,KAC3FhB,KAAKO,YAAcW,EAAQlB,KAAKO,YAAa,MAG/CI,EAAA,MAAA,CAAKE,MAAM,SACRM,EAAOnB,KAAKO,YAAa,kBAG9BI,EAAA,MAAA,CAAKE,MAAM,gBACTF,EAAA,cAAA,CACEI,KAAK,KACLK,UAAW,cACX1B,MAAOM,KAAKC,KACZoB,MAAOrB,KAAKS,eAAea,KAAKrB,IACvB,CACLR,MAASQ,EAAKR,MACdC,MAASO,EAAKP,UAEhB6B,gBACcC,IACdxB,KAAKC,KAAOuB,EAAMC,OAAO/B,WAQnCG,SAEE,OACEc,EAACe,EAAI,KACHf,EAAA,MAAA,CAAKE,MAAM,YACTF,EAAA,MAAA,CAAKE,MAAM,mBACRb,KAAK2B,gBAERhB,EAAA,MAAA,CAAKE,MAAM,iBACTF,EAAA,MAAA,CAAKE,MAAM,kBACRb,KAAK4B,sBAERjB,EAAA,MAAA,CAAKE,MAAM","sourcesContent":["@import \"../../../globalStyles/commons\";\r\n\r\n:host {\r\n  display: block;\r\n  height: 100%;\r\n  min-height: 20em;\r\n  --calendar-border-color: #{v(--ui-04)};\r\n  --scale-color: #{v(--text-placeholder)}\r\n}\r\n\r\n.calendar {\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  .calendar-header {\r\n    .calendar-header-classic {\r\n      display: flex;\r\n      padding: 1rem;\r\n\r\n      .header-left {\r\n        display: flex;\r\n        gap: 1rem;\r\n        flex: 1;\r\n\r\n        .title {\r\n          display: flex;\r\n          align-items: center;\r\n        }\r\n      }\r\n    }\r\n\r\n    goat-select {\r\n      margin-bottom: 0;\r\n    }\r\n  }\r\n\r\n  .calendar-body {\r\n    flex: 1;\r\n    overflow: auto;\r\n\r\n    .view-container {\r\n      height: 100%;\r\n    }\r\n  }\r\n}\r\n","import { Component, ComponentInterface, Element, h, Host, Prop } from '@stencil/core';\nimport { addDays, format } from 'date-fns';\n\n\n/**\n * @name Calendar\n * @description The calendar component is used to display information in a daily, weekly, monthly, or category view.\n * @img /assets/img/calendar.png\n */\n@Component({\n  tag: 'goat-calendar',\n  styleUrl: 'calendar.scss',\n  shadow: true,\n})\nexport class Calendar implements ComponentInterface {\n\n  @Element() elm!: HTMLElement;\n\n  @Prop() events: any[] = [];\n\n  @Prop() availableViews: any = [{ label: 'Day', value: 'day', type: 'column', days: 1 }, {\n    label: 'Week',\n    value: 'week',\n    type: 'column',\n    days: 7,\n  }, {\n    label: 'Month',\n    value: 'month',\n    type: 'month',\n  }];\n\n  @Prop() view: string = 'week';\n\n  /**\n   * Show loader.\n   */\n  @Prop() showLoader: boolean = false;\n\n  @Prop() timezone;\n\n\n  currentTime;\n  currentView: any;\n\n  @Prop({ mutable: true }) contextDate;\n\n\n  async componentWillLoad() {\n\n    console.log(this.view);\n    if (this.timezone) {\n      this.currentTime = new Date(new Date().toLocaleString('en', { timeZone: this.timezone }));\n    } else {\n      this.currentTime = new Date();\n    }\n\n    if (!this.contextDate) {\n      this.contextDate = this.currentTime;\n    }\n\n  }\n\n\n  renderCalendarView() {\n    this.currentView = this.availableViews.find((view) => {\n      return view.value === this.view;\n    });\n    if (!this.currentView)\n      return 'Invalid view';\n    if (this.currentView.type === 'column') {\n      return <goat-calendar-column-view\n        currentTime={this.currentTime}\n        contextDate={this.contextDate}\n        events={[]/*generateEvents()*/}\n      />;\n    }\n  }\n\n  renderHeader() {\n    return <div class='calendar-header-classic'>\n      <div class='header-left'>\n        <goat-button variant='outline' size='sm' class='color-secondary' onClick={() => {\n          this.contextDate = this.currentTime;\n        }}>Today</goat-button>\n        <goat-button variant='ghost' size='sm' class='color-secondary' icon='chevron-left' onClick={() => {\n          this.contextDate = addDays(this.contextDate, -7);\n        }}></goat-button>\n        <goat-button variant='ghost' size='sm' class='color-secondary' icon='chevron-right' onClick={() => {\n          this.contextDate = addDays(this.contextDate, 7);\n        }}></goat-button>\n\n        <div class='title'>\n          {format(this.contextDate, 'MMMM d, yyyy')}\n        </div>\n      </div>\n      <div class='header-right'>\n        <goat-select\n          size='sm'\n          positions={'bottom-left'}\n          value={this.view}\n          items={this.availableViews.map((view) => {\n            return {\n              'label': view.label,\n              'value': view.value,\n            };\n          })}\n          onGoat:change={(event) => {\n            this.view = event.detail.value;\n          }}\n        ></goat-select>\n      </div>\n    </div>;\n  }\n\n\n  render() {\n\n    return (\n      <Host>\n        <div class='calendar'>\n          <div class='calendar-header'>\n            {this.renderHeader()}\n          </div>\n          <div class='calendar-body'>\n            <div class='view-container'>\n              {this.renderCalendarView()}\n            </div>\n            <div class='contextual-panel'></div>\n          </div>\n        </div>\n      </Host>\n    );\n  }\n\n}\n"]}