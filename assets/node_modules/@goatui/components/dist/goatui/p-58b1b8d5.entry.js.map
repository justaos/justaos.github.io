{"version":3,"sources":["src/components/app-shell/sidenav-menu-item/sidenav-menu-item.scss?tag=goat-sidenav-menu-item&encapsulation=shadow","src/components/app-shell/sidenav-menu-item/sidenav-menu-item.tsx"],"names":["sidenavMenuItemCss","SidenavMenuItem","this","gid","getComponentIndex","tabindex","clickHandler","event","disabled","goatMenuItemClick","emit","value","elm","innerText","preventDefault","stopPropagation","blurHandler","hasFocus","focusHandler","mouseDownHandler","isActive","keyDownHandler","evt","key","render","h","Host","active","has-focus","ref","el","nativeInput","class","sidenav-menu-item","selected","start-slot-has-content","startSlotHasContent","end-slot-has-content","endSlotHasContent","onBlur","onFocus","onClick","onMouseDown","onKeyDown","aria-disabled","name","[object Object]","focus","blur","hasAttribute","getAttribute","undefined","removeAttribute","querySelector"],"mappings":"oGAAA,MAAMA,EAAqB,ghFCSdC,EAAe,+FAE1BC,KAAAC,IAAcC,IAINF,KAAAG,SAA6B,EAiE7BH,KAAAI,aAAgBC,IACtB,IAAKL,KAAKM,SAAU,CAClBN,KAAKO,kBAAkBC,KAAK,CAC1BC,MAAOT,KAAKS,OAAST,KAAKU,IAAIC,gBAE3B,CACLN,EAAMO,iBACNP,EAAMQ,kBACN,SAIIb,KAAAc,YAAc,KACpBd,KAAKe,SAAW,OAGVf,KAAAgB,aAAe,KACrBhB,KAAKe,SAAW,MAGVf,KAAAiB,iBAAmB,KACzBjB,KAAKkB,SAAW,MAGVlB,KAAAmB,eAAkBC,IACxB,GAAIA,EAAIC,KAAO,IAAK,CAClBD,EAAIR,iBACJZ,KAAKkB,SAAW,KAChBlB,KAAKI,aAAagB,KAiBtBpB,KAAAsB,OAAS,IACAC,EAACC,EAAI,CAACC,OAAQzB,KAAKkB,SAAQQ,YAAa1B,KAAKe,UAClDQ,EAAA,MAAA,CACEI,IAAMC,GAAO5B,KAAK6B,YAAcD,EAChCE,MAAO,CACLC,oBAAqB,KACrBC,SAAYhC,KAAKgC,SACjBP,OAAUzB,KAAKkB,SACfZ,SAAYN,KAAKM,SACjBoB,YAAa1B,KAAKe,SAClBkB,yBAA0BjC,KAAKkC,oBAC/BC,uBAAwBnC,KAAKoC,mBAE/BjC,SAAUH,KAAKG,SACfkC,OAAQrC,KAAKc,YACbwB,QAAStC,KAAKgB,aACduB,QAASvC,KAAKI,aACdoC,YAAaxC,KAAKiB,iBAClBwB,UAAWzC,KAAKmB,eAAcuB,gBACf1C,KAAKM,UAEpBiB,EAAA,MAAA,CAAKO,MAAM,2BACTP,EAAA,OAAA,CAAMoB,KAAK,WAGbpB,EAAA,MAAA,CAAKO,MAAM,0BACTP,EAAA,OAAA,OAGFA,EAAA,MAAA,CAAKO,MAAM,yBACTP,EAAA,OAAA,CAAMoB,KAAK,8CAjI0B,oBAKA,+BAQd,6BACF,oBAoCT,oBACA,MA9BpBC,iBACE,GAAI5C,KAAK6B,YAAa,CACpB7B,KAAK6B,YAAYgB,SASrBD,gBACE,GAAI5C,KAAK6B,YAAa,CACpB7B,KAAK6B,YAAYiB,QAKrBF,gBACE,GAAI5C,KAAKkB,SACPlB,KAAKkB,SAAW,MAIpB0B,YAAYxB,GACV,GAAIpB,KAAKkB,UAAaE,EAAIC,KAAO,IAC/BrB,KAAKkB,SAAW,MAuCpB0B,oBAIE,GAAI5C,KAAKU,IAAIqC,aAAa,YAAa,CACrC,MAAM5C,EAAWH,KAAKU,IAAIsC,aAAa,YACvChD,KAAKG,SAAWA,IAAa,KAAOA,EAAW8C,UAC/CjD,KAAKU,IAAIwC,gBAAgB,YAE3BlD,KAAKkC,sBAAwBlC,KAAKU,IAAIyC,cAAc,kBACpDnD,KAAKoC,oBAAsBpC,KAAKU,IAAIyC,cAAc","sourcesContent":["@import \"../../../globalStyles/commons\";\r\n\r\n:host {\r\n  display: block;\r\n}\r\n\r\n.sidenav-menu-item {\r\n  cursor: pointer;\r\n  @include font-style(text-md);\r\n  padding: v(--spacing-2) v(--spacing-4);\r\n  box-sizing: border-box;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: v(--spacing-2);\r\n  color: v(--text-secondary);\r\n  outline: none;\r\n\r\n  .item-section {\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n\r\n  .slot-main {\r\n    display: block;\r\n    flex: 1;\r\n    text-overflow: ellipsis;\r\n    overflow: hidden;\r\n    white-space: nowrap;\r\n  }\r\n\r\n  .slot-end {\r\n    color: v(--text-05);\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n.menu-item {\r\n  &:hover, &.has-focus:not(.active) {\r\n    background: v(--hover-ui);\r\n    color: v(--text-primary);\r\n    .slot-end {\r\n      color: v(--icon-01);\r\n    }\r\n  }\r\n\r\n  &.active, &.selected {\r\n    background: v(--selected-ui);\r\n  }\r\n}\r\n\r\n.menu-item.has-focus:not(.active) {\r\n  @include focus-ring;\r\n}\r\n\r\n.menu-item.disabled {\r\n  cursor: not-allowed;\r\n  color: v(--text-disabled) !important;\r\n  background-color: v(--disabled-01) !important;\r\n\r\n  &:hover, &.has-focus:not(.active) {\r\n    color: v(--text-disabled) !important;\r\n    background-color: v(--disabled-01) !important;\r\n  }\r\n\r\n  &.active, &.selected {\r\n    color: v(--text-disabled) !important;\r\n    background-color: v(--disabled-01) !important;\r\n  }\r\n}\r\n\r\n\r\n.menu-item:not(.start-slot-has-content) {\r\n  .slot-start {\r\n    display: none;\r\n  }\r\n}\r\n\r\n.menu-item:not(.end-slot-has-content) {\r\n  .slot-end {\r\n    display: none;\r\n  }\r\n}\r\n\r\n\r\n","import { Component, Element, Event, EventEmitter, h, Host, Listen, Method, Prop, State } from '@stencil/core';\r\nimport { getComponentIndex } from '../../../utils/utils';\r\n\r\n\r\n@Component({\r\n  tag: 'goat-sidenav-menu-item',\r\n  styleUrl: 'sidenav-menu-item.scss',\r\n  shadow: true,\r\n})\r\nexport class SidenavMenuItem {\r\n\r\n  gid: string = getComponentIndex();\r\n\r\n  private nativeInput?: HTMLElement;\r\n\r\n  private tabindex?: string | number = 1;\r\n\r\n\r\n  /**\r\n   * The menu item value.\r\n   */\r\n  @Prop({mutable: true}) value?: string | number | null;\r\n\r\n  /**\r\n   * If true, the user cannot interact with the button. Defaults to `false`.\r\n   */\r\n  @Prop({ reflect: true }) disabled: boolean = false;\r\n\r\n  /**\r\n   * Menu item selection state.\r\n   */\r\n  @Prop({ reflect: true }) selected: boolean = false;\r\n\r\n  /**\r\n   * Emitted when the menu item is clicked.\r\n   */\r\n  @Event({ eventName: 'goat:sidenav-menu-item-click' }) goatMenuItemClick: EventEmitter;\r\n\r\n\r\n  @State() startSlotHasContent = false;\r\n  @State() endSlotHasContent = false;\r\n\r\n  /**\r\n   * Sets focus on the native `input` in `goat-input`. Use this method instead of the global\r\n   * `input.focus()`.\r\n   */\r\n  @Method()\r\n  async setFocus() {\r\n    if (this.nativeInput) {\r\n      this.nativeInput.focus();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Sets blur on the native `input` in `goat-input`. Use this method instead of the global\r\n   * `input.blur()`.\r\n   */\r\n  @Method()\r\n  async setBlur() {\r\n    if (this.nativeInput) {\r\n      this.nativeInput.blur();\r\n    }\r\n  }\r\n\r\n  @Listen('mouseup', { target: 'window' })\r\n  windowMouseUp() {\r\n    if (this.isActive)\r\n      this.isActive = false;\r\n  }\r\n\r\n  @Listen('keyup', { target: 'window' })\r\n  windowKeyUp(evt) {\r\n    if (this.isActive && (evt.key == ' '))\r\n      this.isActive = false;\r\n  }\r\n\r\n  @State() hasFocus = false;\r\n  @State() isActive = false;\r\n  @Element() elm!: HTMLElement;\r\n\r\n  private clickHandler = (event) => {\r\n    if (!this.disabled) {\r\n      this.goatMenuItemClick.emit({\r\n        value: this.value || this.elm.innerText\r\n      });\r\n    } else {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n      return;\r\n    }\r\n  };\r\n\r\n  private blurHandler = () => {\r\n    this.hasFocus = false;\r\n  };\r\n\r\n  private focusHandler = () => {\r\n    this.hasFocus = true;\r\n  };\r\n\r\n  private mouseDownHandler = () => {\r\n    this.isActive = true;\r\n  };\r\n\r\n  private keyDownHandler = (evt) => {\r\n    if (evt.key == ' ') {\r\n      evt.preventDefault();\r\n      this.isActive = true;\r\n      this.clickHandler(evt);\r\n    }\r\n  };\r\n\r\n  componentWillLoad() {\r\n    // If the ion-input has a tabindex attribute we get the value\r\n    // and pass it down to the native input, then remove it from the\r\n    // goat-input to avoid causing tabbing twice on the same element\r\n    if (this.elm.hasAttribute('tabindex')) {\r\n      const tabindex = this.elm.getAttribute('tabindex');\r\n      this.tabindex = tabindex !== null ? tabindex : undefined;\r\n      this.elm.removeAttribute('tabindex');\r\n    }\r\n    this.startSlotHasContent = !!this.elm.querySelector('[slot=\"start\"]');\r\n    this.endSlotHasContent = !!this.elm.querySelector('[slot=\"end\"]');\r\n  }\r\n\r\n  render = () => {\r\n    return <Host active={this.isActive} has-focus={this.hasFocus}>\r\n      <div\r\n        ref={(el) => this.nativeInput = el as HTMLElement}\r\n        class={{\r\n          'sidenav-menu-item': true,\r\n          'selected': this.selected,\r\n          'active': this.isActive,\r\n          'disabled': this.disabled,\r\n          'has-focus': this.hasFocus,\r\n          'start-slot-has-content': this.startSlotHasContent,\r\n          'end-slot-has-content': this.endSlotHasContent,\r\n        }}\r\n        tabindex={this.tabindex}\r\n        onBlur={this.blurHandler}\r\n        onFocus={this.focusHandler}\r\n        onClick={this.clickHandler}\r\n        onMouseDown={this.mouseDownHandler}\r\n        onKeyDown={this.keyDownHandler}\r\n        aria-disabled={this.disabled}>\r\n\r\n        <div class=\"item-section slot-start\">\r\n          <slot name=\"start\" />\r\n        </div>\r\n\r\n        <div class='item-section slot-main'>\r\n          <slot />\r\n        </div>\r\n\r\n        <div class=\"item-section slot-end\">\r\n          <slot name=\"end\" />\r\n        </div>\r\n\r\n      </div>\r\n    </Host>;\r\n  };\r\n\r\n\r\n}\r\n"]}