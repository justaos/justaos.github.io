{"version":3,"sources":["src/3d-party/dompurify/index.tsx","src/components/content/empty-state/empty-state.scss?tag=goat-empty-state&encapsulation=shadow","src/components/content/empty-state/empty-state.tsx","src/components/content/svg/datasource.ts","src/components/content/svg/svg.scss?tag=goat-svg&encapsulation=shadow","src/components/content/svg/svg.tsx"],"names":["async","loadDOMPurify","version","loadScript","emptyStateCss","EmptyState","[object Object]","hostRef","this","illustration","actionVariant","actionDisabled","vertical","elm","clientWidth","window","resizeHandler","h","Host","class","empty-state","src","getAssetPath","headline","description","innerHTML","sanitize","action","href","actionUrl","icon","iconEnd","disabled","variant","cache","fetchIcon","url","res","fetch","method","mode","credentials","text","svgCss","Svg","svg","name","newValue","fetchSvg"],"mappings":"oGAEeA,eAAeC,IAC5B,MAAMC,EAAU,cAEVC,EAAW,oDAAoDD,mBCLvE,MAAME,EAAgB,u8ECeTC,EAAU,MALvBC,YAAAC,aAS2BC,KAAAC,aAA8B,cAU/CD,KAAAE,cAAoE,UAEpEF,KAAAG,eAA0B,MAEzBH,KAAAI,SAAoB,MAG7BN,gBACEE,KAAKI,SAAWJ,KAAKK,IAAIC,YAAc,IAGzCR,0BACE,IAAKS,OAAO,aAAc,OAClBd,KAIVK,mBACEE,KAAKQ,gBAGPV,SACE,OACEW,EAACC,EAAI,KACHD,EAAA,MAAA,CAAKE,MAAO,CAAEC,cAAe,KAAMR,SAAYJ,KAAKI,WAClDK,EAAA,MAAA,CAAKE,MAAM,gBACTF,EAAA,WAAA,CAAUI,IAAKC,EAAa,+BAA+Bd,KAAKC,uBAGlEQ,EAAA,MAAA,CAAKE,MAAM,WACRX,KAAKe,UAAYN,EAAA,MAAA,CAAKE,MAAM,SAASX,KAAKe,UAC1Cf,KAAKgB,aAAeP,EAAA,MAAA,CAAKE,MAAM,cAAcM,UAAWV,OAAO,aAAaW,SAASlB,KAAKgB,eAC3FP,EAAA,MAAA,CAAKE,MAAM,WACRX,KAAKmB,QACJV,EAAA,cAAA,CACEW,KAAMpB,KAAKqB,UACXC,KAAM,cACNC,QAAS,KACTC,SAAUxB,KAAKG,eACfsB,QAASzB,KAAKE,eACbF,KAAKmB,iDCrExB,MAAMO,EAAgC,GAG/BlC,eAAemC,EAAUC,GAC9B,IAAKA,EAAK,MAAO,GACjB,GAAIF,EAAME,GAAM,CACd,OAAOF,EAAME,GAEf,MAAMC,QAAYC,MAAMF,EAAK,CAC3BG,OAAQ,MACRC,KAAM,OACNC,YAAa,SAEfP,EAAME,SAAaC,EAAIK,OACvB,OAAOR,EAAME,GCdf,MAAMO,EAAS,mwBCQFC,EAAG,MALhBtC,YAAAC,aAOUC,KAAAa,IAAc,GAEbb,KAAAqC,IAAc,GAEvBvC,eAAewC,GACb,GAAItC,KAAKa,IACPb,KAAKqC,UAAYV,EAAUW,GAK/BxC,uBAAuByC,GACrBvC,KAAKqC,UAAYV,EAAUY,GAG7BzC,gCACQE,KAAKwC,SAASxC,KAAKa,KAI3Bf,SACE,OACEW,EAACC,EAAI,KACHD,EAAA,MAAA,CAAKQ,UAAWjB,KAAKqC,IAAK1B,MAAO,CAAEW,KAAQ","sourcesContent":["import { loadScript } from '../../utils/utils';\r\n\r\nexport default async function loadDOMPurify() {\r\n  const version = '2.3.6';\r\n  // @ts-ignore\r\n  await loadScript(`https://cdnjs.cloudflare.com/ajax/libs/dompurify/${version}/purify.min.js`);\r\n}\r\n","@import \"../../../globalStyles/commons\";\r\n\r\n:host {\r\n  display: block;\r\n}\r\n\r\n.empty-state {\r\n  display: flex;\r\n  padding: v(--spacing-3);\r\n  justify-content: center;\r\n  gap: v(--spacing-8);\r\n  height: 100%;\r\n  align-items: center;\r\n  max-width: v(--container-lg);\r\n  margin: auto;\r\n}\r\n\r\n.illustration {\r\n  height: 100%;\r\n  display: flex;\r\n\r\n  svg {\r\n    height: 100%;\r\n  }\r\n\r\n  --empty-state-outline: #{v(--color-brand-primary)};\r\n  --empty-state-bg-primary: #{v(--color-brand-secondary)};\r\n  --empty-state-bg-secondary: #{v(--color-brand-secondary-40)};\r\n  --empty-state-bg-tertiary: #{v(--color-brand-secondary-30)};\r\n\r\n  --empty-state-text: #{v(--text-primary)};\r\n  --empty-state-bg-surface: #{v(--background)};\r\n\r\n  --empty-state-green: #{v(--color-success-50)};\r\n}\r\n\r\n:host-context([data-theme=\"dark\"]) {\r\n  .illustration {\r\n    --empty-state-bg-secondary: #{v(--color-brand-secondary-80)};\r\n    --empty-state-bg-tertiary: #{v(--color-brand-secondary-100)};\r\n  }\r\n}\r\n\r\n\r\n.content {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n\r\n  .title {\r\n    @include font-style(text-md);\r\n    font-weight: v(--font-weight-semi-bold);\r\n    margin-bottom: v(--spacing-2);\r\n    color: var(--text-color, v(--text-primary))\r\n  }\r\n\r\n  .description {\r\n    @include font-style(text-sm);\r\n    margin-bottom: v(--spacing-4);\r\n    color: var(--text-color, v(--text-secondary))\r\n  }\r\n}\r\n\r\n:host(.content-center) .content {\r\n  align-items: center;\r\n}\r\n\r\n.empty-state:not(.vertical) {\r\n\r\n  .illustration {\r\n    width: 50%;\r\n  }\r\n\r\n  .content {\r\n    width: 50%;\r\n  }\r\n}\r\n\r\n\r\n.empty-state.vertical {\r\n  flex-direction: column;\r\n  gap: v(--spacing-5);\r\n\r\n  .illustration {\r\n    height: auto;\r\n    width: 100%;\r\n    justify-content: center;\r\n  }\r\n}\r\n\r\n","import { Component, ComponentInterface, Element, getAssetPath, h, Host, Listen, Prop, State } from '@stencil/core';\r\nimport loadDOMPurify from '../../../3d-party/dompurify';\r\n\r\n\r\n/**\r\n * @name Empty State\r\n * @description A message that displays when there is no information to display.\r\n * @example <goat-empty-state class=\"content-center\" headline=\"Empty list\" description=\"Nothing to display\">\r\n * </goat-empty-state>\r\n */\r\n@Component({\r\n  tag: 'goat-empty-state',\r\n  styleUrl: 'empty-state.scss',\r\n  shadow: true,\r\n})\r\nexport class EmptyState implements ComponentInterface {\r\n\r\n  @Element() elm!: HTMLElement;\r\n\r\n  @Prop({ reflect: true }) illustration: 'no-document' = 'no-document';\r\n\r\n  @Prop({ reflect: true }) headline: string;\r\n\r\n  @Prop({ reflect: true }) description: string;\r\n\r\n  @Prop({ reflect: true }) action: string;\r\n\r\n  @Prop() actionUrl: string;\r\n\r\n  @Prop() actionVariant: 'default' | 'light' | 'outline' | 'ghost' | 'link' = 'default';\r\n\r\n  @Prop() actionDisabled: boolean = false;\r\n\r\n  @State() vertical: boolean = false;\r\n\r\n  @Listen('resize', { target: 'window' })\r\n  resizeHandler() {\r\n    this.vertical = this.elm.clientWidth < 768;\r\n  }\r\n\r\n  async componentWillLoad() {\r\n    if (!window['DOMPurify']) {\r\n      await loadDOMPurify();\r\n    }\r\n  }\r\n\r\n  componentDidLoad() {\r\n    this.resizeHandler();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Host>\r\n        <div class={{ 'empty-state': true, 'vertical': this.vertical }}>\r\n          <div class='illustration'>\r\n            <goat-svg src={getAssetPath(`./assets/images/empty-state/${this.illustration}.svg`)} />\r\n          </div>\r\n\r\n          <div class='content'>\r\n            {this.headline && <div class='title'>{this.headline}</div>}\r\n            {this.description && <div class='description' innerHTML={window['DOMPurify'].sanitize(this.description)}/>}\r\n            <div class='actions'>\r\n              {this.action &&\r\n                <goat-button\r\n                  href={this.actionUrl}\r\n                  icon={'arrow-right'}\r\n                  iconEnd={true}\r\n                  disabled={this.actionDisabled}\r\n                  variant={this.actionVariant}>\r\n                  {this.action}\r\n                </goat-button>}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n\r\n\r\n}\r\n","const cache: Record<string, string> = {};\r\n\r\n// TODO: prevent duplicated request when rendering multiple icons with same name simultaneously\r\nexport async function fetchIcon(url) {\r\n  if (!url) return '';\r\n  if (cache[url]) {\r\n    return cache[url];\r\n  }\r\n  const res = await fetch(url, {\r\n    method: 'GET',\r\n    mode: 'cors',\r\n    credentials: 'omit',\r\n  });\r\n  cache[url] = await res.text();\r\n  return cache[url];\r\n}\r\n","@import \"../../../globalStyles/commons\";\r\n\r\n:host {\r\n  display: inline-block;\r\n}\r\n\r\n.icon {\r\n  line-height: 0;\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n\r\nsvg {\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n\r\n:host(.inherit) .icon {\r\n  color: inherit;\r\n}\r\n","import { Component, h, Host, Prop, State, Watch } from '@stencil/core';\r\nimport { fetchIcon } from './datasource';\r\n\r\n@Component({\r\n  tag: 'goat-svg',\r\n  styleUrl: 'svg.scss',\r\n  shadow: true,\r\n})\r\nexport class Svg {\r\n\r\n  @Prop() src: string = '';\r\n\r\n  @State() svg: string = '';\r\n\r\n  async fetchSvg(name: string) {\r\n    if (this.src)\r\n      this.svg = await fetchIcon(name);\r\n  }\r\n\r\n\r\n  @Watch('src')\r\n  async handleNameChange(newValue: string) {\r\n    this.svg = await fetchIcon(newValue);\r\n  }\r\n\r\n  async componentWillLoad() {\r\n    await this.fetchSvg(this.src);\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <Host>\r\n        <div innerHTML={this.svg} class={{ 'icon': true }} />\r\n      </Host>\r\n    );\r\n  }\r\n\r\n}\r\n"]}